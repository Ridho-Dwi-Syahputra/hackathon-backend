# SAKO BACKEND API ENDPOINTS DOCUMENTATION
**Generated automatically by EndpointAnalyzer**
**Last Updated:** November 30, 2025

---

## ğŸ“Š **ENDPOINT SUMMARY**

- **Total Endpoints:** 29
- **Modules:** 7 (Auth, Badge, Category, Map, Profile, Quiz, Video)
- **Methods Distribution:**
  - GET: 14 endpoints
  - POST: 9 endpoints
  - PUT: 5 endpoints
  - DELETE: 1 endpoint

---

## ğŸ” **AUTHENTICATION MODULE** (`/api/auth`)
**7 endpoints total**

| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/auth/register` | User registration |
| POST | `/api/auth/login` | User login |
| POST | `/api/auth/logout` | User logout |
| GET | `/api/auth/profile` | Get user profile |
| PUT | `/api/auth/fcm-token` | Update FCM token |
| PUT | `/api/auth/notification-preferences` | Update notification settings |
| GET | `/api/auth/notification-preferences` | Get notification settings |

---

## ğŸ—ºï¸ **MAP MODULE** (`/api/map`) 
**7 endpoints total** âœ¨ **NEWEST MODULE**

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/map/detail/:id` | Get place details (public) |
| POST | `/api/map/favorite/toggle` | Toggle favorite place |
| GET | `/api/map/favorites` | Get user favorites |
| POST | `/api/map/review/add` | Add place review + FCM notification |
| GET | `/api/map/review/:tourist_place_id` | Get place reviews (public) |
| POST | `/api/map/scan/qr` | Scan QR code + FCM notification |
| GET | `/api/map/scan/history` | Get visit history |

### **Map Module Features:**
- ğŸ”” **FCM Notifications** for reviews and visits
- ğŸ“ **Location Validation** (500m radius)
- â­ **Rating System** (1-5 stars)
- ğŸ“± **QR Code Scanning** with visit tracking
- â¤ï¸ **Favorites Management**
- ğŸ“Š **Comprehensive Logging**

---

## â“ **QUIZ MODULE** (`/api/quiz`)
**2 endpoints total**

| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/quiz/start` | Start quiz session |
| POST | `/api/quiz/submit` | Submit quiz answers |

---

## ğŸ·ï¸ **CATEGORY MODULE** (`/api/category`)
**2 endpoints total**

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/category/` | Get all categories |
| GET | `/api/category/:id/levels` | Get category levels |

---

## ğŸ‘¤ **PROFILE MODULE** (`/api/profile`)
**4 endpoints total**

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/profile/profile` | Get user profile |
| PUT | `/api/profile/profile` | Update user profile |
| PUT | `/api/profile/profile/image` | Update profile image |
| PUT | `/api/profile/password` | Change password |

---

## ğŸ† **BADGE MODULE** (`/api/badge`)
**2 endpoints total**

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/badge/` | Get all badges |
| GET | `/api/badge/user` | Get user badges |

---

## ğŸ“¹ **VIDEO MODULE** (`/api/video`)
**5 endpoints total**

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/video/` | Get all videos |
| GET | `/api/video/favorites` | Get favorite videos |
| GET | `/api/video/:videoId` | Get video details |
| POST | `/api/video/:videoId/favorite` | Add video to favorites |
| DELETE | `/api/video/:videoId/favorite` | Remove from favorites |

---

## ğŸ”— **ENDPOINT MOUNTING**

Routes are mounted in `src/app.js` with the following prefixes:

- **Auth Routes:** `/api/auth` â† `authRoutes.js`
- **Quiz Routes:** `/api/quiz` â† `quizRoutes.js`  
- **Category Routes:** `/api/category` â† `categoryRoutes.js`
- **Map Routes:** `/api/map` â† `mapRoutes.js` âœ¨ **NEW**
- **Badge Routes:** `/api/badge` â† `badgeRoutes.js`
- **Profile Routes:** `/api/profile` â† `profileRoutes.js`
- **Video Routes:** `/api/video` â† `videoRoutes.js`

---

## ğŸ› ï¸ **TECHNICAL FEATURES**

### **Logging System:**
- ğŸ“ **Comprehensive logging** for all operations
- ğŸ•’ **Response time tracking**
- ğŸŒ **Indonesian timezone**
- ğŸ“Š **Business metrics logging**

### **Response Format:**
- âœ… **Standardized responses** via `responseHelper`
- ğŸš¨ **Consistent error handling**
- ğŸ“± **Mobile-optimized responses**

### **Authentication:**
- ğŸ” **JWT-based authentication**
- ğŸ”” **FCM notification integration**
- ğŸ‘¤ **User preference management**

### **Map Module Specifics:**
- ğŸ—ºï¸ **Location-based services**
- ğŸ“± **QR code integration** 
- â­ **Review and rating system**
- ğŸ”” **Real-time notifications**
- ğŸ“Š **Visit tracking and analytics**

---

## ğŸ“Š **USAGE ANALYTICS**

Generated by **EndpointAnalyzer Utility** - `src/utils/endpointAnalyzer.js`

This documentation is automatically generated and updated based on actual route files in the codebase. For the most current endpoint information, run:

```bash
node test-endpoint-analyzer.js
```

---

**ğŸš€ SAKO Backend - Ready for Production!**